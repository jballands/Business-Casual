/*
 *  tables.less
 *  Contains styling required for tables in Business
 *  Casual.
 *
 *  (C)2013 Jonathan Ballands
 */

/*
 *  MIXINS
 */

.make-rounded() {
    tr:first-child { 
        th:first-child, td:first-child {
            border-top-left-radius: @table-edge-radius;
        }
    }
    tr:first-child { 
        th:last-child, td:last-child {
            border-top-right-radius: @table-edge-radius; 
        } 
    }
    tr:last-child { 
        th:first-child, td:first-child {
            border-bottom-left-radius: @table-edge-radius;  
        }
    }
    tr:last-child {
        th:last-child, td:last-child {   
            border-bottom-right-radius: @table-edge-radius;  
        }
    }
}

.provide-text-align() {
    .left {
        text-align: left;
    }
    .right {
        text-align: right;
    }
}

// Used so that the head doesn't round
.suppress-rounding-bottom() {
    tr:last-child { 
        th:first-child, td:first-child {
            border-bottom-left-radius: 0;  
        }
    }
    tr:last-child {
        th:last-child, td:last-child {   
            border-bottom-right-radius: 0;  
        }
    }
}

// Used so that the body doesn't round
.suppress-rounding-top() {
    tr:first-child { 
        th:first-child, td:first-child {
            border-top-left-radius: 0;
        }
    }
    tr:first-child { 
        th:last-child, td:last-child {
            border-top-right-radius: 0; 
        } 
    }
}

/*
 *  CLASSES
 */

.rounded-table {
    width: 100%;
    margin-bottom: @line-height;
    
    // Suppress spacing
    border-spacing: 0;
    border: 1 solid @table-border-color;
    border-radius: @table-edge-radius; 

    .provide-text-align();
    
    // Affects all cells
    thead, tbody, tfoot {
        
        // Make rows rounded
        .make-rounded();
        
        tr {
            
            // Applying colors to cells makes it easy to change their color
            th, td {
                background-color: @table-body-background-color;
                color: @table-body-text-color;
                
                padding: @table-cell-pad;
                vertical-align: top;
                border-top: 1 solid @table-body-border-color;
                border-right: 1 solid @table-body-border-color;
                
                font-style: @table-body-font-style;
                font-family: @font-family-sans-serif;
                font-weight: @table-body-font-weight;
                font-size: @table-body-font-size;
            }
            th:last-child, td:last-child {
                vertical-align: bottom;
                border-right: 0;
            }
        }
    }
    
    // Only affects head
    thead {
        
        // Suppress rounding
        .suppress-rounding-bottom();
        
        tr {
            th, td {
                vertical-align: bottom;
                border-bottom: 1 solid @table-head-border-color;
                border-right: 1 solid @table-head-border-color;
                border-top: 0;
                
                font-weight: @table-head-font-weight;
                font-style: @table-head-font-style;
                font-size: @table-head-font-size;
                
                background-color: @table-head-background-color;
                color: @table-head-text-color;
            }
            th:last-child, td:last-child {
                vertical-align: bottom;
                border-bottom: 1 solid @table-head-border-color;
                border-right: 0;
                
                background-color: @table-head-background-color;
                color: @table-head-text-color;
            }
        }
    }
    
    // If a full fledged table, continue to suppress rounding
    &.full {
        tbody, tfoot {
            
            // Suppress rounding
            .suppress-rounding-top();
        } 
    }
}
