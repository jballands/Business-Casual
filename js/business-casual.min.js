function BusinessCasual(){function a(){for(var a=0;a<b.length;a++){var c=b[a];c.execute()}}this.version=1.2,this.availables=[{query:"div.hero-unit",ref:HeroUnit},{query:"div.sidekick-unit",ref:SidekickUnit},{query:"div.parallax",ref:Parallax},{query:"div.magnetic",ref:Magnetic},{query:"div.sticky",ref:Sticky},{query:"div.glassbox",ref:Glassbox}];var b=[];this.bootstrap=function(){for(var c=0;c<this.availables.length;c++)for(var d=this.availables[c],e=document.querySelectorAll(d.query),f=0;f<e.length;f++){var g=e[f];b.push(new d.ref(g))}a()}}function HeroUnit(a){var b=a.offsetWidth,c=a.offsetHeight,d=a.querySelectorAll("span.hero-unit-text");if(d.length>0){d=d[0];var e=c/2-d.offsetHeight/2,f=b/2-d.offsetWidth/2;hasClass(d,"left")?(d.style.left=f-2*(f/3),d.style.top=e):hasClass(d,"right")?(d.style.left=f+2*(f/3),d.style.top=e):(d.style.left=f,d.style.top=e)}}function SidekickUnit(a){var b=a.offsetWidth,c=a.offsetHeight,d=a.querySelectorAll("span.sidekick-unit-text");if(d.length>0){d=d[0];var e=c/2-d.offsetHeight/2,f=b/2-d.offsetWidth/2;d.style.left=f,d.style.top=e}}function Parallax(a){this.mElem=a,this.dampening=3}function Magnetic(a){broadcaster.hasChannel("naviOffset")||broadcaster.setChannel("naviOffset",0);var b=broadcaster.getChannel("naviOffset");a.style.top=b,broadcaster.setChannel("naviOffset",b+magneticNavi.offsetHeight-1)}function Sticky(a){broadcaster.hasChannel("naviOffset")||broadcaster.setChannel("naviOffset",0),this.fader=document.getElementById(a.getAttribute("fadeOut")),this.faderTop=void 0,null!=this.fader&&(this.faderTop=this.fader.offsetTop),this.top=a.offsetTop-12,this.isStuck=!1,this.mElem=a}function Glassbox(a){function b(a){a.style.transition="1s",a.style.left=0}function c(a){a.style.transition="1s",a.style.left=-1*parseInt(a.offsetWidth)}function d(a){a.style.transition="1s",a.style.left=parseInt(a.offsetWidth)}function e(a){a.style.transition=""}this.width=a.offsetWidth,this.height=a.offsetHeight,this.currentSlide=void 0,this.isAnimating=!1,this.slideList=[];for(var f=a.getElementsByClassName("glassbox-slide"),g=0;g<f.length;g++)-1!=f[g].className.indexOf("glassbox-present")&&(this.currentSlide=g,f[g].style.left=0),this.slideList.push(f[g].cloneNode(!0));void 0==this.currentSlide&&(this.currentSlide=0);for(var g=0;g<this.slideList.length;g++){var h=f[g].getElementsByClassName("glassbox-caption")[0],i=this.width-15,j=h.offsetHeight,k=this.slideList[g].getElementsByClassName("glassbox-caption")[0];k.style.width=i+"px",k.style.top=this.height-j-25}for(;f[0];)f[0].parentNode.removeChild(f[0]);var l=this.slideList[(this.currentSlide-1).mod(this.slideList.length)],m=this.slideList[(this.currentSlide+1).mod(this.slideList.length)];a.appendChild(l),a.appendChild(this.slideList[this.currentSlide]),a.appendChild(m),f=a.getElementsByClassName("glassbox-slide"),f[0].style.left=-1*f[0].offsetWidth,f[f.length-1].style.left=f[f.length-1].offsetWidth;var n=a.getElementsByClassName("glassbox-left-arrow")[0],o=a.getElementsByClassName("glassbox-right-arrow")[0];n.style.top=this.height/2-n.offsetHeight/2,o.style.top=this.height/2-o.offsetHeight/2,o.style.left=this.width-o.offsetWidth;var p=this;n.onclick=function(){function c(){console.log("Handler called"),f[2].parentNode.removeChild(f[2]),p.currentSlide=(p.currentSlide-1).mod(p.slideList.length);var b=p.slideList[(p.currentSlide-1).mod(p.slideList.length)];e(b);var d=a.firstChild;a.insertBefore(b,d),b.style.left=-1*b.offsetWidth,p.isAnimating=!1,g.removeEventListener(i,c)}if(!p.isAnimating){var f=a.getElementsByClassName("glassbox-slide"),g=f[0],h=f[1];b(g),d(h),p.isAnimating=!0;var i=whichTransitionEvent(g);g.addEventListener(i,c,!1)}},o.onclick=function(){function d(){console.log("Handler called"),f[0].parentNode.removeChild(f[0]),p.currentSlide=(p.currentSlide+1).mod(p.slideList.length);var b=p.slideList[(p.currentSlide+1).mod(p.slideList.length)];e(b),a.appendChild(b),b.style.left=b.offsetWidth,p.isAnimating=!1,g.removeEventListener(i,d)}if(!p.isAnimating){var f=a.getElementsByClassName("glassbox-slide"),g=f[2],h=f[1];b(g),c(h),p.isAnimating=!0;var i=whichTransitionEvent(g);g.addEventListener(i,d,!1)}}}function Crossfader(a){this.imageList=a.getElementsByTagName("img"),this.currentImage=void 0;for(var b=0;b<crossfaderImageList.length;b++){var c=imageList[b];hasClass(c,".crossfader-show")&&(this.currentImage=b),c.width=crossfaderFrameWidth-2,c.height=crossfaderFrameWidth-2,c.id="cf"+b}}function ScrollingService(){var a=[];this.subscribe=function(b){a.push(b)},window.onscroll=function(){for(var b=0;b<a.length;b++)a[b]()}}function Broadcaster(){var a={};this.hasChannel=function(b){for(channel in a)if(b==channel)return!0;return!1},this.getChannel=function(){return a.name},this.setChannel=function(b,c){a.name=c}}function hasClass(a,b){return(" "+a.className+" ").indexOf(" "+b+" ")>-1}function whichTransitionEvent(a){var b,c={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(b in c)if(void 0!==a.style[b])return c[b]}HeroUnit.prototype.execute=function(){},SidekickUnit.prototype.execute=function(){},Parallax.prototype.execute=function(){var a=this;scrollingService.subscribe(function(){var b=a.mElem.getElementsByTagName("img")[0];if(a.mElem.offsetTop<=window.innerHeight+window.scrollY){var c=(window.pageYOffset-a.mElem.offsetTop)/a.dampening;b.style.top=c+"px"}})},Magnetic.prototype.execute=function(){},Sticky.prototype.execute=function(){var a=this;scrollingService.subscribe(function(){var b=window.pageYOffset+broadcaster.getChannel("naviOffset")>=a.top,c=window.pageYOffset<a.faderTop;void 0==a.fader&&(c=!0);var d=b&&c;if(d&&-1!=a.mElem.className.indexOf("hidden")){a.isStuck=!0;var e=broadcaster.getChannel("naviOffset");broadcaster.setChannel("naviOffset",e+a.mElem.offsetHeight-1),a.mElem.className=a.mElem.className.replace(" hidden","")}else if(d&&!a.isStuck){a.mElem.style.position="fixed",a.mElem.style.top=broadcaster.getChannel("naviOffset"),a.mElem.style.width="100%";var f=a.mElem.nextElementSibling;f.style.paddingTop="21px";for(var g=f.firstChild;null!=g&&3==g.nodeType;)g=g.nextSibling;null!=g&&void 0!=g&&null!=g.classList&&void 0!=g.classList&&g.classList.contains("flexor")&&(g.style.paddingTop="21px");var e=broadcaster.getChannel("naviOffset");broadcaster.setChannel("naviOffset",e+a.mElem.offsetHeight-1),a.isStuck=!0}else{var h=window.pageYOffset+broadcaster.getChannel("naviOffset")<a.top+a.mElem.offsetHeight&&a.isStuck;if(h){a.mElem.removeAttribute("style"),a.mElem.nextElementSibling.removeAttribute("style");var e=broadcaster.getChannel("naviOffset");broadcaster.setChannel("naviOffset",e-a.mElem.offsetHeight+1),a.isStuck=!1}var i=window.pageYOffset>=a.faderTop&&void 0!=a.fader&&a.isStuck;if(i){a.mElem.className=a.mElem.className.replace(" hidden",""),a.mElem.className=a.mElem.className+" hidden";var e=broadcaster.getChannel("naviOffset");broadcaster.setChannel("naviOffset",e-a.mElem.offsetHeight+1),a.isStuck=!1}}})},Glassbox.prototype.execute=function(){},Crossfader.prototype.execute=function(){};var scrollingService=new ScrollingService,broadcaster=new Broadcaster;Number.prototype.mod=function(a){return(this%a+a)%a};